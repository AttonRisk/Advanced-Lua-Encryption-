--[[--Advanced Lua Encryption 2.0 [Ale]--By Atton Risk 2014/2013--thenuke321@yahoo.com--Feel free to edit this script but please do not claim it as yours or profit from it.]]------------------------------------------------------------------------------------------------- Resource NamerName = getResourceName(getThisResource())----------------------------------------------------------------------------------------------- To Store Key Data---------------------------------------------------------------------------------------------local kf = xmlLoadFile("key.xml")local data = xmlFindChild(kf,"key",0)local thekey = xmlNodeGetValue(data)local keyc = tostring(thekey)cryptType = "AES256"mode = "ECBMODE"local sKey = "1234"local eKey = teaDecode(tostring(keyc),tostring(sKey))rawKey = tostring(eKey)----------------------------------------------------------------------------------------------- Server End serverstate = false-- Note this code is fine no issues so far at allfunction loadServer ()serverFile = fileOpen("server.ale")if serverFile then	local serverRead = fileRead(serverFile,fileGetSize(serverFile))		if serverRead then			local b64Server = serverRead			if b64Server then				local decode = exports.AleCore:decryptString(rawKey,tostring(b64Server),cryptType,mode)				if decode then					serverstate = true					fileClose(serverFile)					assert(loadstring(tostring(decode))) ()					b64Server = NULL					serverRead = NULL					decode = NULL				end			end		end	endendloadServer()----------------------------------------------------------------------------------------------- Client Endfunction loadClient ()	serverFile = fileOpen("client.ale")if serverFile then	local serverRead = fileRead(serverFile,fileGetSize(serverFile))		if serverRead then			local b64Server = serverRead			if b64Server then				local decode = exports.AleCore:decryptString(rawKey,tostring(b64Server),cryptType,mode)				if decode then					serverstate = true					fileClose(serverFile)					b64Server = NULL					serverRead = NULL					return decode				end			end		end	endendlocal clientCode = loadClient()----------------------------------------------------------------------------------------------- And the problem ends hereclientTable = {}table.insert(clientTable,tostring(clientCode))function loop (clientCoded)	triggerClientEvent(rName.."ALE",getRootElement(),getRootElement(),clientTable)	if debugmode then--		outputChatBox("Data sent "..rName.."ALE")	endendfunction dcTime ()	loop(clientCode)endsetTimer(loop,2000,1) -- To give the client a few seconds to get shit going.--[[addEvent(rName.."take",true)addEventHandler(rName.."take",getRootElement(),loop)]]-----------------------------------------------------------------------------------------------function joinLoader ()	triggerClientEvent(rName.."ALE",getRootElement(),source,clientTable)endaddEventHandler("onPlayerJoin", getRootElement(), joinLoader)---------------------------------------------------------------------------------------------